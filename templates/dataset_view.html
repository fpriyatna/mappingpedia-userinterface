{% extends "base.html" %}
{% block body %}
<script>
    function set_distribution_source(source){
        if(source=='url'){
            $("#distribution_url_div").show();
            $("#distribution_url_radio").removeClass("btn-secondary");
            $("#distribution_url_radio").addClass("btn-primary");

            $("#distribution_file_div").hide();
            $("#distribution_file_radio").removeClass("btn-primary");
            $("#distribution_file_radio").addClass("btn-secondary");

        }
        else if(source=='file'){
            $("#distribution_url_div").hide();
            $("#distribution_url_radio").removeClass("btn-primary");
            $("#distribution_url_radio").addClass("btn-secondary");

            $("#distribution_file_div").show();
            $("#distribution_file_radio").removeClass("btn-secondary");
            $("#distribution_file_radio").addClass("btn-primary");

        }
    }

$(document).ready(function(){
    set_distribution_source('url');
});



</script>
<br>
<form method="POST" enctype="multipart/form-data"> {% csrf_token %}

    <!--<div class="form-group">-->
    <!--<label for="org">Organization Name</label>-->
    <!--<input type="text" name="organization" class="form-control" id="org" placeholder="Enter the organization name">-->
    <!--</div>-->

    {%if organizations|length == 1 %}
    <h5>Organization: {{organizations.0}}</h5>
    <div class="form-group" hidden>
        <label for="organization">Organization Name</label>
        <select name="organization" class="form-control" id="organization">
            {%for organization in organizations%}
            <option value="{{organization}}">{{organization}}</option>
            {%endfor%}
        </select>
    </div>

    {%else%}
    <div class="form-group">
        <label for="organization">Organization Name</label>
        <select name="organization" class="form-control" id="organization">
            {%for organization in organizations%}
            <option value="{{organization}}">{{organization}}</option>
            {%endfor%}
        </select>
    </div>

    {%endif%}


    <div class="form-group">
        <div class="btn-group" role="group" aria-label="Basic example" data-toggle="buttons-radio">
            <button type="button" class="btn btn-primary" id="distribution_url_radio"
                    onclick="set_distribution_source('url')">Distribution URL
            </button>
            <button type="button" class="btn btn-secondary" id="distribution_file_radio"
                    onclick="set_distribution_source('file')">Distribution File
            </button>
        </div>
    </div>


    <div class="form-group" id="distribution_url_div">
        <label for="dist-url">Distribution URL</label>
        <input type="text" name="url" class="form-control" id="dist-url"
               placeholder="Enter the distribution url">
    </div>

    <div class="form-group" id="distribution_file_div">
        <label for="dist-file">Distribution File</label>
        <input type="file" name="file" class="form-control-file" id="dist-file">
    </div>

    <div class="form-group">
        <label for="name">Distribution Name (Optional)</label>
        <input type="text" name="name" class="form-control" id="name" placeholder="Enter a name for the distribution">
    </div>


    <input type="submit" class="btn btn-primary"/>
    </div>
    </div>
</form>


{% endblock %}

